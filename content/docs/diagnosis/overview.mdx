---
title: What is the Diagnostic Engine?
sidebar_title: Overview
---

The **Diagnostic Engine** is an AI-powered service that replicates a doctor's clinical reasoning to conduct intelligent medical interviews. It dynamically generates follow-up questions based on patient responses, ensuring a thorough assessment of symptoms and risk factors.

By building a detailed clinical context, the engine delivers a comprehensive output that includes differential diagnoses, triage advice, and specialist recommendations—enabling applications to provide personalized and accurate medical guidance.

## Use cases
<Cards>
  <Card
    title="Differential diagnoses"
    description="Get a list of medical conditions the patient may have"
  />
  <Card
    title="Self-management advice"
    description="Provides practical guidance to help patients manage their symptoms safely at home"
  />
  <Card
    title="Triage recommendation"
    description="Suggests the appropriate level of medical urgency based on the patient's symptoms"
  />
  <Card
    title="Specialist recommendation"
    description="Recommends the appropriate medical specialty to consult with based on the patient's symptoms"
  />
</Cards>

## API Types

<Cards>
  <Card
    title="Conversational API"
    description="Interactive diagnostic sessions with iterative questioning to reach a differential diagnoses list"

  />
  <Card
    title="Stateless API"
    description="Send all patient information in a single request and receive a question or a differential diagnoses list"
  />
</Cards>
## Conversational API
Designed for interactive, real-time diagnostic sessions. It allows you to start a session with patient details, answer questions, and get diagnostic results.
### Workflow
Integrating the Diagnostic Engine is straightforward — just three API calls to go from patient input to complete diagnostic results.
<div className="fd-steps">
  <div className="fd-step">
    <div className="fd-step-content">
#### Step 1 — Start a session
Send patient details to start a session.  
Receive a `session_id` and the first question.
    </div> 
  </div>
    <div className="fd-step">
    <div className="fd-step-content">
#### Step 2 — Send answers 
Send answers with the `session_id` and receive the next question.  
Repeat until the API returns `null` for the question.

    </div> 
  </div>
    <div className="fd-step">
    <div className="fd-step-content">
#### Step 3 — Get diagnosis
Provide a session ID to retrieve diagnostic results from existing patient data.

    </div> 
  </div>
</div>
<Callout type="info">You can call the `Diagnose` or `Get DDX` endpoints at any time during the encounter to receive results sooner.
However, accuracy improves when the encounter is fully completed.</Callout>


### Endpoints

| Method | Path                      | Purpose |
|--------|----------------------------|---------|
| POST   | `/ddx/v1/session`             | Create a session, initialize patient context, and receive the first question. |
| POST   | `/ddx/v1/session/{session_id}/next` | Update an existing session by submitting answers and receiving the next step in the patient's assessment. |
| GET   | `/ddx/v1/session/{session_id}/diagnose`            | Generate final outputs including differential diagnosis, triage, specialist, and self-management advice. |

For complete specifications and live testing, visit the 
<a href="#api-reference" 
className="underline decoration-current hover:text-av-gray-500 hover:decoration-av-gray-500 transition-colors duration-300">API reference</a>.

### Architecture
<Mermaid

  chart={`
sequenceDiagram
    participant Patient
    participant AveyDDX as Avey DDX
    participant AveySession as Avey Session Manager
    participant AveyQNA as Avey QNA Engine

    Patient->>AveySession: Create session with patient details and chief symptoms
    AveySession->>AveyQNA: Start QNA for patient session
    loop QNA Loop
        AveyQNA->>Patient: Question
        Patient->>AveyQNA: Answer
    end
    AveyQNA->>AveyDDX: Request differential diagnosis and specialist recommendation
    AveyDDX->>Patient: Present differential diagnosis and recommendations
    AveySession-->AveySession: Clean up session data
`}
/>




## Stateless API
Designed for non-interactive use cases where you send all patient information in a single request and receive a question or a complete diagnosis without iterative questioning.


### Ask Endpoint

Send patient details and findings to receive a question based on the patient's information. This gives the API user the power to control the flow of the conversation.




<Callout type="info">This endpoint is deterministic: the same patient details and findings will always return the same question. Similar sets of findings may return the same question.</Callout>

### Diagnose Endpoint

Send patient details and findings to receive a set of potential differential diagnoses.


<Callout type="info">Providing additional patient details and findings will enhance the accuracy of the diagnosis.</Callout>




## Requirements
- **Authentication**: The API uses a bearer token for 
<a href="/authentication" className="underline decoration-current hover:text-av-gray-500 hover:decoration-av-gray-500 transition-colors duration-300">authentication</a>.


## API reference

#### Conversational API
<Cards className="grid grid-cols-3 ">
  <Card
      className="flex items-center gap-2 group transition-all duration-300 hover:[&>div]:bg-fd-info [&>div]:transition-all [&>div]:duration-300"
href="/diagnosis/conversational/start_session" title="Start session"/>
    <Card

      className="flex items-center gap-2 group transition-all duration-300 hover:[&>div]:bg-fd-info [&>div]:transition-all [&>div]:duration-300"

href="/diagnosis/conversational/answer_question" title="Update session"/>
    <Card
      className="flex items-center gap-2 group transition-all duration-300 hover:[&>div]:bg-fd-info [&>div]:transition-all [&>div]:duration-300"
href="/diagnosis/conversational/diagnose_session" title="Get diagnosis"
/>
</Cards>

#### Stateless API
<Cards className="grid grid-cols-3 ">
  <Card
      className="flex items-center gap-2 group transition-all duration-300 hover:[&>div]:bg-fd-info [&>div]:transition-all [&>div]:duration-300"
href="/diagnosis/stateless/ask" title="Ask"/>
    <Card
      className="flex items-center gap-2 group transition-all duration-300 hover:[&>div]:bg-fd-info [&>div]:transition-all [&>div]:duration-300"
href="/diagnosis/stateless/diagnose" title="Diagnose"/>
</Cards>


